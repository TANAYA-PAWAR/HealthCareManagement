<app-index></app-index>
<div class="container" style="margin-top: 8%;">
    <div class="text-center">
<h1>Med Page</h1>
</div>
<div class="row justify-content-center align-items-center">
<div class="col-10 col-md-8 col-lg-6">
<form name="medForm" (ngSubmit)="m.form.valid && onSubmit()" #m="ngForm" novalidate>

    <!-- mRecord -->
    <div class="form-group">
        <label for="mRecord">Med </label>
        <input type="text" name="mRecord" class="form-control" [(ngModel)]="med.mRecord" #mRecord="ngModel" [ngClass]="{'is-invalid' : m.submitted && mRecord.invalid }" required />
        <div *ngIf="m.submitted && mRecord.invalid" class="invalid-feedback">
            <div *ngIf="mRecord.errors.required">Med report is required</div>
        </div>
    </div>

    <!-- quantity -->
    <div class="form-group">
        <label for="quantity">quantity </label>
        <input type="number" name="quantity" class="form-control" [(ngModel)]="med.quantity" #quantity="ngModel" [ngClass]="{'is-invalid' : m.submitted && quantity.invalid }" required />
        <div *ngIf="m.submitted && quantity.invalid" class="invalid-feedback">
            <div *ngIf="quantity.errors.required">Med quantity is required</div>
        </div>
    </div>

    <!-- price -->
    <div class="form-group">
        <label for="price">price </label>
        <input type="number" name="price" class="form-control" [(ngModel)]="med.price" #price="ngModel" [ngClass]="{'is-invalid' : m.submitted && price.invalid }" required />
        <div *ngIf="m.submitted && price.invalid" class="invalid-feedback">
            <div *ngIf="price.errors.required">Med price is required</div>
        </div>
    </div>
    
    <!-- date -->
    <div class="form-group">
        <label for="date">date</label>
        <input type="date" name="date" class="form-control" [(ngModel)]="med.date" #date="ngModel" [ngClass]="{'is-invalid' : m.submitted && date.invalid }" required />
        <div *ngIf="m.submitted && date.invalid" class="invalid-feedback">
            <div *ngIf="date.errors.required">Med date is required</div>
        </div>
    </div>
    
    <!-- Doctor -->
    <div class="form-group">
        <label for="doctor">Doctor Id : </label>
        <select name="doctor" class="form-control" [(ngModel)]="med.doctor.doctorId">
            <option [value]="doctor.doctorId" *ngFor="let doctor of docList">
                {{doctor.doctorId}} {{doctor.doctorName}}
            </option>
        </select>
    </div>

    <!-- Patient -->
    <div class="form-group">
        <label for="doctor"> Select Patient </label>
        <select name="doctor" class="form-control" [(ngModel)]="med.patient.pid">
            <option [value]="pat.pid" *ngFor="let pat of patientList">
                {{pat.pid}} {{pat.pName}}
            </option>
        </select>
    </div>

    <button class="btn btn-primary">{{btn}}</button>
</form>
</div>
</div>
</div>
<br><br>